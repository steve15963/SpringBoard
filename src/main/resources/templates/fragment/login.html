<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/">

        <div th:fragment="login()" >
            <form>
                <input type="text"     id="userName"      name="userName" placeholder="id">
                <input type="password" id="password"      name="password" placeholder="password">
                <input type="button" value="로그인" onclick="Login()">
                <br/>
                <input type="button" onclick="location.href='./register'">회원가입</input>
            </form>
            <script type="text/javascript">
                function Login() {
                    let userRequest = new Object();
                    userRequest.account = document.getElementById("userName").value;
                    userRequest.password = document.getElementById("password").value;
                    fetch('/api/user/login', {
                        method: 'POST', // POST 방식으로, HTTP 요청.
                        body: JSON.stringify(userRequest), // 위에서 만든 폼 데이터(data)를 함께 보냄.
                        headers: {
                            "Content-Type": "application/json"
                        }
                    }).then(function (response) { // 응답 처리!
                        // 요청 성공!
                        if (response.ok) {
                            alert('로그인 되었습니다.');
                            location.href = "/web";
                        } else { // 요청 실패..
                            alert('로그인에 실패하였습니다.');
                        }
                    });
                }
            </script>
        </div>

</html>